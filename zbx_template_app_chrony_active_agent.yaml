zabbix_export:
  version: '7.0'
  template_groups:
    - uuid: 22fefe9c6af648aea42d4e8522fd123a
      name: 'Templates/Futur-Tech/Modules Linux'
  templates:
    - uuid: 65e518c60839428a957454605ee5c2d7
      template: 'Futur-Tech App Chrony NTP'
      name: 'Futur-Tech App Chrony NTP'
      description: 'https://github.com/Futur-Tech/futur-tech-zabbix-chrony'
      groups:
        - name: 'Templates/Futur-Tech/Modules Linux'
      items:
        - uuid: 9ad5e401459d4e03a35c600f691b8787
          name: 'Chrony Last offset'
          key: chrony.last_offset
          delay: 30m
          history: 90d
          value_type: FLOAT
          units: s
          description: 'This is the estimated local offset on the last clock update.'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
        - uuid: 541482a426df4d82bd16f7cdbc26355c
          name: 'Chrony Leap status'
          key: chrony.leap_status
          delay: 30m
          history: 90d
          value_type: CHAR
          trends: '0'
          description: 'This is the leap status, which can be Normal, Insert second, Delete second or Not synchronised.'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
          triggers:
            - uuid: 4c7026e6e79c44ed8023792274892d4b
              expression: 'find(/Futur-Tech App Chrony NTP/chrony.leap_status,,"regexp","Not synchronised")=1'
              name: 'Chrony is not synchronized'
              priority: HIGH
              tags:
                - tag: scope
                  value: availability
        - uuid: 83d88bd150ab4ecab84326f12d0b6d41
          name: 'Chrony synchronized server'
          key: chrony.ref_id
          delay: 30m
          history: 90d
          value_type: CHAR
          trends: '0'
          description: 'This is the reference ID and name (or IP address) if available, of the server to which the computer is currently synchronized.'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
          triggers:
            - uuid: 29d1ce5f149b40beb5d61314817c8db4
              expression: '(last(/Futur-Tech App Chrony NTP/chrony.ref_id,#1)<>last(/Futur-Tech App Chrony NTP/chrony.ref_id,#2))=1'
              name: 'Chrony active time source changed'
              priority: INFO
              tags:
                - tag: scope
                  value: notice
        - uuid: 99c5a22f39894d8eb4a3aafd323e9015
          name: 'Chrony RMS offset'
          key: chrony.rms_offset
          delay: 30m
          history: 90d
          value_type: FLOAT
          units: s
          description: 'This is a long-term average of the offset value.'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
        - uuid: e2a810bf59534910b0c81d2cfebafcfe
          name: 'Chrony Root delay'
          key: chrony.root_delay
          delay: 30m
          history: 90d
          value_type: FLOAT
          units: s
          description: 'This is the total of the network path delays to the stratum-1 computer from which the computer is ultimately synchronized. In certain extreme situations, this value can be negative. (This can arise in a symmetric peer arrangement where the computersâ€™ frequencies are not tracking each other and the network delay is very short relative to the turn-around time at each computer.)'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
        - uuid: 3b8f42ce771b43179fc457997027609b
          name: 'Chrony Stratum'
          key: chrony.stratum
          delay: 30m
          history: 90d
          description: 'The stratum indicates how many hops away from a computer with an attached reference clock we are. Such a computer is a stratum-1 computer, so the computer in the example is two hops away'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
        - uuid: 01e30bb30e6e45999c7325e11f2584db
          name: 'Chrony Update interval'
          key: chrony.update_interval
          delay: 30m
          history: 90d
          value_type: FLOAT
          units: s
          description: 'This is the total dispersion accumulated through all the computers back to the stratum-1 computer from which the computer is ultimately synchronized. Dispersion is due to system clock resolution, statistical measurement variations etc.'
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
        - uuid: d6e5fe75a4024375b1e5156d6ea19c2f
          name: 'Version of chrony(d) running'
          key: chrony.version
          delay: 6h
          history: 90d
          value_type: CHAR
          trends: '0'
          preprocessing:
            - type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 1d
          tags:
            - tag: component
              value: ntp
            - tag: component
              value: system
      tags:
        - tag: class
          value: software
        - tag: target
          value: chrony
